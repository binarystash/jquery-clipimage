/*! jquery-clipimage - v1.0.0 - 2014-04-27
* https://github.com/binarystash01/jquery-clipimage
* Copyright (c) 2014 binarystash01; Licensed MIT */
!function(a){var b={init:function(c){var d=a.extend({points:[[0,0],[0,300],[300,300]]},c),e=0;return this.each(function(c,f){var g=a(f).width(),h=a(f).height();if(b.isCanvasSupported()){var i=a("<canvas width='"+g+"' height='"+h+"'></canvas"),j=i.get(0).getContext("2d"),k=a(f).get(0);for(j.beginPath(),j.moveTo(d.points[0][0],d.points[0][1]),e=0;e<d.points.length;e++)j.lineTo(d.points[e][0],d.points[e][1]);j.clip(),j.drawImage(k,0,0,g,h),a(f).hide(),a(f).after(i)}if(b.isVmlSupported()){document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");var l,m,n;for(l=document.createElement("v:polyline"),l.style.position="absolute",l.style.width=g+"px",l.style.height=h+"px",n="M"+d.points[0][0]+","+d.points[0][1],e=0;e<d.points.length;e++)n+=" L"+d.points[e][0]+","+d.points[e][1];l.points.value=n,l.stroked=!1,m=document.createElement("v:fill"),m.setAttribute("type","tile"),m.setAttribute("aspect","atleast"),m.setAttribute("src",a(f).attr("src")),l.appendChild(m),a(f).hide(),a(f).wrap("<span style='display:inline-block;width:"+g+"px; height:"+h+"px'></span>"),a(f).after(l),l.outerHTML=l.outerHTML}})},isCanvasSupported:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},isVmlSupported:function(){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;b.style.behavior="url(#default#VML)";var c=b?"object"==typeof b.adj:!0;return a.parentNode.removeChild(a),c}};a.fn.clipimage=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist"):b.init.apply(this,arguments)}}(jQuery);